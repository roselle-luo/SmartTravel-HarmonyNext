import { ActivityPage } from './activity/ActivityPage';
import { HomePage } from './home/HomePage';
import { ProfilePage } from './profile/ProfilePage';

@Entry
@Component
struct Index {
  @State selected: number = 0;

  build() {
    Column() {
      Tabs({ index: this.selected, barPosition: BarPosition.End }) {
        TabContent() {
          HomePage()
        }.tabBar(this.TabBuilder('é¦–é¡µ', 'ğŸ ', 0))
        TabContent() {
          ActivityPage()
        }.tabBar(this.TabBuilder('æ´»åŠ¨', 'ğŸ”', 1))
        TabContent() {
          ProfilePage()
        }.tabBar(this.TabBuilder('ä¸»é¡µ', 'ğŸ‘¤', 2))
      }
      .width('100%')
      .height('100%')
      .barMode(BarMode.Fixed) // å›ºå®šTabæ æ¨¡å¼
      .barWidth('100%')
      .barHeight(60) // åº•éƒ¨å¯¼èˆªæ é«˜åº¦
      .backgroundColor(Color.White)
      .onChange((index: number) => {
        this.selected = index;
      })
    }
    .width('100%')
    .height('100%')
  }

  // è‡ªå®šä¹‰ TabBar å¸ƒå±€
  @Builder TabBuilder(title: string, icon: string, index: number) {
    Column() {
      Text(icon) // å›¾æ ‡ (è¿™é‡Œä½¿ç”¨Emojiæ¨¡æ‹Ÿ)
        .fontSize(24)
        .fontColor(this.selected === index ? '#3b82f6' : '#64748b') // é€‰ä¸­è“è‰²ï¼Œæœªé€‰ä¸­ç°è‰²
      Text(title) // æ ‡é¢˜
        .fontSize(12)
        .fontColor(this.selected === index ? '#3b82f6' : '#64748b')
        .fontWeight(this.selected === index ? FontWeight.Medium : FontWeight.Normal)
    }
    .width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
  }
}
